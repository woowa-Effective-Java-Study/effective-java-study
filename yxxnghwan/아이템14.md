# ì•„ì´í…œ13 `Comparable`, `compareTo`, `Comparator`

## `Comparable`ì¸í„°í˜ì´ìŠ¤

`Comparable`ì€ `compareTo()`ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ê°„ì˜ ê°’ ë¹„êµ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.
`Comparable`ì„ êµ¬í˜„í–ˆë‹¤ëŠ” ê²ƒì€ ê·¸ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¼ë¦¬ëŠ” ìˆœì„œê°€ ìˆìŒì„ ëœ»í•œë‹¤.

```java
public interface Comparable<T> {
    public int compareTo(T o);
}
```

Comparableì„ êµ¬í˜„í•œ ê°ì²´ë“¤ì˜ ë°°ì—´ì€ ë‹¤ìŒì²˜ëŸ¼ ì†ì‰½ê²Œ ì •ë ¬í•  ìˆ˜ ìˆë‹¤.

```java
public class Test {
    public static void main(String[] args) {
        List<String> characters = List.of("asdadaqlsdfahdasftexanzfepcsfdayjgvbmudoisrkgabg".split(""));
        Set<String> s = new TreeSet<>(characters);
        System.out.println(s);
    }
}
```

ê²°ê³¼
```
[a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, x, y, z]
```

ì•„ì£¼ ì‘ì€ ë…¸ë ¥ìœ¼ë¡œ Comparableë§Œ êµ¬í˜„í•˜ë©´ ë§¤ìš° í° íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. ì‚¬ì‹¤ìƒ ëª¨ë“  ìë°” ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ëª¨ë“  ê°’ í´ë˜ìŠ¤ì™€ ì—´ê±°íƒ€ì…ì´ Comparableì„ êµ¬í˜„ì¤‘ì´ë‹¤. ì•ŒíŒŒë²³, ìˆ«ì, ì—°ëŒ€ê°™ì´ ìˆœì„œê°€ ìˆëŠ” ê°’ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•œë‹¤ë©´ ë°˜ë“œì‹œ Comparableì„ êµ¬í˜„í•  ê²ƒ.

---

## compareTo
ì£¼ì–´ì§„ ê°ì²´ì™€ ìˆœì„œë¥¼ ë¹„êµí•œë‹¤. ë¹„êµ ì£¼ì²´ì¸ ê°ì²´ê°€ ì£¼ì–´ì§„ ê°ì²´ë³´ë‹¤ `ì‘ìœ¼ë©´ ìŒì˜ ì •ìˆ˜`, `ê°™ìœ¼ë©´ 0`, `í¬ë©´ ì–‘ì˜ ì •ìˆ˜`ë¥¼ ë°˜í™˜í•œë‹¤.

### comparaTo ì¼ë°˜ ê·œì•½
- Comparableì„ êµ¬í˜„í•œ í´ë˜ìŠ¤ëŠ” ëª¨ë“  x, yì— ëŒ€í•´ `sgn(x.compareTo(y)) == -sgn(y.compareTo(x))`ì—¬ì•¼ í•œë‹¤.
- ì¶”ì´ì„±ì„ ë³´ì¥í•´ì•¼í•œë‹¤. (ë°‘ì—ì„œ ì„¤ëª…)
- ë™ì¹˜ì„±ì„ ë³´ì¥í•´ì•¼í•œë‹¤. (ë°‘ì—ì„œ ì„¤ëª…)
- (x.compareTo(y) == 0) == (x.equals(y)ì—¬ì•¼ í•œë‹¤.(í•„ìˆ˜ X)


### comparaTo ê·œì•½

- ë°˜ì‚¬ì„± : `x.compareTo(y) == ì–‘ì˜ì •ìˆ˜`ì´ë©´ `y.compareTo(x) == ìŒì˜ì •ìˆ˜`ì—¬ì•¼í•œë‹¤. (ì˜ˆìƒëœ ê²°ê³¼ê°€ ë‚˜ì™€ì•¼í•¨.)
- ì¶”ì´ì„± : `x.compareTo(y) == ì–‘ì˜ì •ìˆ˜`ì´ê³  `y.compareTo(z) == ì–‘ì˜ì •ìˆ˜`ì´ë©´ `x.compareTo(z) == ì–‘ì˜ì •ìˆ˜`ì—¬ì•¼í•œë‹¤.
- ë™ì¹˜ì„± : `x.compareTo(y) == 0`ì´ê³  `x.compareTo(z) == ì–‘ì˜ì •ìˆ˜`ì´ë©´ `y.compareTo(z) == ì–‘ì˜ì •ìˆ˜`ì—¬ì•¼í•œë‹¤.

ìœ„ ì„¸ ê·œì•½ì€ `equals` ê·œì•½ì²˜ëŸ¼ ë°˜ì‚¬ì„±, ëŒ€ì¹­ì„±, ì¶”ì´ì„±ì„ ì¶©ì¡±í•´ì•¼í•¨ì„ ëœ»í•¨ìœ¼ë¡œ, equalsì²˜ëŸ¼ ê¸°ì¡´ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•œ êµ¬ì²´ í´ë˜ìŠ¤ì—ì„œ ìƒˆë¡œìš´ ê°’ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€í•˜ë©´ compareTo ê·œì•½ì„ ì§€í‚¬ ë°©ë²•ì´ ì—†ë‹¤.

---

## í´ë˜ìŠ¤ì— í•µì‹¬ í•„ë“œê°€ ì—¬ëŸ¬ ê°œë¼ë©´? ğŸ¤”

ë¹„êµí•´ì•¼í•  í•„ë“œê°€ ì—¬ëŸ¬ ê°œë¼ë„ ê±±ì • X, í•µì‹¬ì ì¸ ê°’ë¶€í„° ë¹„êµí•´ë‚˜ê°€ë©´ ëœë‹¤. ê°€ì¥ í•µì‹¬ì ì¸ ê°’ì´ 0ì´ë¼ë©´ ë‹¤ìŒ ê°’ìœ¼ë¡œ ë¹„êµí•˜ê³  ê·¸ê²ƒë„ 0ì´ë¼ë©´ ë‹¤ìŒ ê°’ìœ¼ë¡œ ë¹„êµí•˜ë©´ ëœë‹¤. ìˆœì„œê°€ ê²°ì •ë˜ë©´ ê·¸ ì¦‰ì‹œ ë°˜í™˜í•˜ë©´ ëœë‹¤.

ì˜ˆì‹œ `PhoneNumber` í´ë˜ìŠ¤
```java
public final class PhoneNumber implements Cloneable, Comparable<PhoneNumber> {
    private final short areaCode, prefix, lineNum;

    ...
}
```

### ê¸°ë³¸ íƒ€ì… í•„ë“œê°€ ì—¬ëŸ¿ì¼ ë•Œì˜ ë¹„êµì
```java
public int compareTo(PhoneNumber pn) {
    int result = Short.compare(areaCode, pn.areaCode);
    if (result == 0)  {
        result = Short.compare(prefix, pn.prefix);
        if (result == 0)
            result = Short.compare(lineNum, pn.lineNum);
    }
    return result;
}
```

### ìë°” 8ë¶€í„° Comparator ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•œ ì¼ë ¨ì˜ ë¹„êµì ìƒì„± ë©”ì„œë“œë¡œ ë©”ì„œë“œ ì—°ì‡„ë°©ì‹ìœ¼ë¡œ ë¹„êµìë¥¼ ìƒì„±í•˜ëŠ” ìŠ¤ë§ˆíŠ¸í•œ ë°©ë²•ğŸ¤“

```java
private static final Comparator<PhoneNumber> COMPARATOR =
        comparingInt((PhoneNumber pn) -> pn.areaCode)
                .thenComparingInt(pn -> pn.prefix)
                .thenComparingInt(pn -> pn.lineNum);

public int compareTo(PhoneNumber pn) {
    return COMPARATOR.compare(this, pn);
}
```

ë‹¨ì : ì„±ëŠ¥ì´ ì¡°ê¸ˆ ì €í•˜ë  ìˆ˜ ìˆìŒ.

`comparingInt`ëŠ” ê°ì²´ ì°¸ì¡°ë¥¼ intíƒ€ì… í‚¤ì— ë§¤í•‘í•˜ëŠ” í‚¤ ì¶”ì¶œ í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ë°›ì•„ ê·¸ í‚¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìˆœì„œë¥¼ ì •í•˜ëŠ” ë¹„êµìë¥¼ ë°˜í™˜í•˜ëŠ” ì •ì  ë©”ì„œë“œ.

ì´ í•¨ìˆ˜ì— ëŒë‹¤ë¡œ í‚¤ ì¶”ì¶œ í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ì—¬ `Comparator<PhoneNumber>`ë¥¼ ì–»ëŠ”ë‹¤.

`Comparator.thenComparingInt()`ëŠ” ê¸°ì¡´ Comparatorê°€ ê°€ì§€ëŠ” ë¹„êµ ê³µì‹ì— thenComparingInt í•¨ìˆ˜ ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì˜¤ëŠ” í‚¤ ì¶”ì¶œ í•¨ìˆ˜ë¥¼ ë‹¤ìŒ ìš°ì„  ìˆœìœ„ ë¹„êµê¸°ì¤€ìœ¼ë¡œ í•´ì„œ ìƒˆë¡œìš´ Comparatorë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

---

## ê²°ë¡ 

ìˆœì„œê°€ ìˆëŠ” ê°’ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•œë‹¤ë©´ Comparableì„ êµ¬í˜„í•˜ë¼.
ì„±ëŠ¥ì— ë¯¼ê°í•˜ì§€ ì•Šì€ ìƒí™©ì´ë¼ë©´ Comparator ì¸í„°í˜ì´ìŠ¤ê°€ ì œê³µí•˜ëŠ” ë¹„êµì ìƒì„± ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì.